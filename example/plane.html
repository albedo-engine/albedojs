<!DOCTYPE html>
<html lang="en">
	<head>
		<title>AlbedoJS - Simple Cube</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: #f0f0f0;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" style="width: 100%; height: 100%"></canvas>
        <script type="module">
			import * as Albedo from '../dist/albedo.js';
			
			const vertexShader = `#version 300 es

			precision highp float;

			uniform mat4 uToto;

			in vec3 position;

			void main()
			{
				gl_Position = vec4(position, 1.0);
			}
			`;

			const fragmentShader = `#version 300 es

			precision highp float;

			out vec4 FragColor;

			void main()
			{
				FragColor = vec4(1.0, 0.0, 0.0, 1.0);
			}
			`;

			const canvas = document.getElementById(`canvas`);
			const context = new Albedo.WebGLContext({canvas: canvas});

			const program = new Albedo.Program(vertexShader, fragmentShader);
			context.compile(program);

			const vbo = new Albedo.VBO(new Float32Array([
					-1.0, 1.0, 0.0,
					-1.0, -1.0, 0.0,
					1.0, -1.0, 0.0,
					-1.0, 1.0, 0.0,
					1.0, -1.0, 0.0,
					1.0, 1.0, 0.0,
			]));
			const vao = new Albedo.VAO().vertexAttrib({vbo: vbo});

			function render() {
				context.draw(program, vao);
				window.requestAnimationFrame(render);
			}
			render();
		</script>
	</body>
</html>